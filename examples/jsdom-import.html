<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>jsdom-import</title>
    </head>
    <body>
        <h1>Hello, it jsdom-import!</h1>
        <h2>Tip: Check your console</h2>
    </body>
    <script type="module">
        import {BitDataView} from "https://cdn.jsdelivr.net/gh/Telemok/ts-bit-dataview/dist/es-bundle.min.js"

        let sourceData = {
            percents: 99, // maximal 7 bits
            isOn: true, // 1 bit
            moneyBalance: -1234567890123, // maximal 43 bits
        };

        let source = new BitDataView();
        source.pushByte(/*pack*/ 7 /*bits*/, sourceData.percents);
        source.pushByte(/*pack*/ 1 /*bit*/,sourceData.isOn);
        source.pushInt(/*pack*/ 43 /*bits*/, sourceData.moneyBalance);
        console.log("storedBits", source.getCountStoredBits());//storedBits 51
        let hex = source.exportUnit8Array();//export 7 + 1 + 43 = 51 bits or 7 bytes
        console.log("hex", hex);//hex e335fb048ee006
    </script>
</html>
